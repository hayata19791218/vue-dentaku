<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>電卓</title>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.js"></script>
    </head>
    <body>
        <div id="app">
            <table id="calcTable">
                <tr>
                    <td colspan="3"><input type="text" id="output" value="0" v-model="output"></td>
                    <td>
                        <button value="c" @click="calc('c')">C</button>
                    </td>
                </tr>
                <tr v-for="row in items">
                    <td v-for="item in row">
                        <button v-on:click="calc(item)">{{item}}</button>
                    </td>
                </tr>
            </table>
        </div>  
    </body>
</html>

<script>
    new Vue({
        el: '#app',
        data: {
            output:'0',
            items:[
                ['7','8','9','/'],
                ['4','5','6','*'],
                ['1','2','3','-'],
                ['0','.','+','='],
            ]
        },
        methods: {
            calc:function(cmd){
                if(cmd == '='){
                    this.output = eval(this.output);
                }else if(cmd == 'c'){
                    this.output = '0';
                }else if(this.output == '0'){
                    this.output = cmd;
                }else{
                    this.output += cmd;
                }
            }  
        },
    })
</script>

<style>
    #app{
        width: 500px;
        margin:200px auto;
    }
</style>
